(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["idea"],{"02f4":function(t,e,n){var a=n("4588"),r=n("be13");t.exports=function(t){return function(e,n){var i,o,s=String(r(e)),c=a(n),l=s.length;return c<0||c>=l?t?"":void 0:(i=s.charCodeAt(c),i<55296||i>56319||c+1===l||(o=s.charCodeAt(c+1))<56320||o>57343?t?s.charAt(c):i:t?s.slice(c,c+2):o-56320+(i-55296<<10)+65536)}}},"0390":function(t,e,n){"use strict";var a=n("02f4")(!0);t.exports=function(t,e,n){return e+(n?a(t,e).length:1)}},"0bfb":function(t,e,n){"use strict";var a=n("cb7c");t.exports=function(){var t=a(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"11e9":function(t,e,n){var a=n("52a7"),r=n("4630"),i=n("6821"),o=n("6a99"),s=n("69a8"),c=n("c69a"),l=Object.getOwnPropertyDescriptor;e.f=n("9e1e")?l:function(t,e){if(t=i(t),e=o(e,!0),c)try{return l(t,e)}catch(n){}if(s(t,e))return r(!a.f.call(t,e),t[e])}},"1f2c":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{class:"layout-"+t.$store.getters.layout},[n("div",{staticClass:"wrapper"},[n("div",{staticClass:"wrapper-idea"},[n("router-link",{staticClass:"link-back",attrs:{to:"/"}},[n("i",{staticClass:"icon-left-open-big"})]),t._m(0),n("div",{staticClass:"editable"},[n("i",{class:{"icon-pencil":!t.editable,"icon-floppy":t.editable},attrs:{"data-action":"edit"},on:{click:t.edit}}),n("h2",[t._v(t._s(t.storage.h||"Раздел «Идея»"))]),n("p",[t._v(t._s(t.storage.p||"Искусство преобразует закон исключённого третьего. Апостериори, гравитационный парадокс абстрактен."))]),n("br"),t._m(1)]),n("div",{staticClass:"pie-chart"},[t._m(2),n("dl",{staticClass:"right"},[n("dt",[n("b",[t._v(t._s(t.tokensAtDivvy*t.divvy/1e3))]),t._v("тыс.")]),t._m(3)]),n("dl",[n("dt",[n("b",[t._v(t._s(t.divvy)+"%")])]),t._m(4)]),n("div",{staticClass:"text-center"},[n("h4",[t._v("Изменить долю")]),n("div",{staticClass:"btn-group"},[n("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(e){t.incdec(1)}}},[t._v("+1")]),n("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(e){t.incdec(-1)}}},[t._v("-1")])]),n("div",{staticClass:"btn-group"},[n("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(e){t.incdec(5)}}},[t._v("+5")]),n("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(e){t.incdec(-5)}}},[t._v("-5")])]),n("div",{staticClass:"btn-group"},[n("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(e){t.incdec(10)}}},[t._v("+10")]),n("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(e){t.incdec(-10)}}},[t._v("-10")])])]),n("transition",{attrs:{name:"fade"}},[n("a",{directives:[{name:"show",rawName:"v-show",value:t.showHelp,expression:"showHelp"}],staticClass:"help",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.showHelpMessage=!t.showHelpMessage}}},[n("img",{attrs:{src:"/img/layout-2/help.png",alt:""}}),n("br"),n("span",[t._v("Помочь?")]),n("em",{directives:[{name:"show",rawName:"v-show",value:t.showHelpMessage,expression:"showHelpMessage"}]},[n("i",{staticClass:"arrow-right"}),t._v("Текст текст текст текст текст текст текст текст.")])])])],1),n("button",{staticClass:"btn btn-list",attrs:{type:"button"},on:{click:t.submit}},[t._v("Список задач ("+t._s(t.taskList.length)+")")]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showTaskList,expression:"showTaskList"}],staticClass:"task-list"},[n("ul",t._l(t.taskList,function(e,a){return n("li",{key:a},[t._v(t._s(e.title))])}),0)])],1)])])])},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"chapter"},[n("img",{attrs:{src:"/img/layout-2/idea.png",alt:""}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[n("a",{staticClass:"link-details",attrs:{href:"#"}},[t._v("Подробнее")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"workarea"},[n("div",{attrs:{id:"chartarea"}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("dd",[t._v("Доля"),n("br"),t._v("в токенах")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("dd",[t._v("Доля раздела"),n("br"),t._v("в проекте")])}],i=(n("a481"),n("c5f6"),n("cadf"),n("551c"),n("097d"),{name:"idea",data:function(){return{storage:{h:this.$store.state.Storage.ideaStorageH||"",p:this.$store.state.Storage.ideaStorageP||""},chart:null,editable:!1,showHelp:!1,showHelpMessage:!1,delayShowHelp:7e3,hndHelp:0,tokensAtDivvy:15e3,divvy:this.$store.state.Storage.ideaDivvy?Number(this.$store.state.Storage.ideaDivvy):5,taskList:[],showTaskList:!1}},created:function(){var t=this,e=document.createElement("script");t.getTaskList(),e.id="scriptAmCharts",e.src="js/amcharts.min.js",e.async=!0,e.onload=function(){var e,n={dataProvider:[{value:t.tokensAtDivvy*t.divvy},{value:100*t.tokensAtDivvy-t.tokensAtDivvy*t.divvy}],valueField:"value",colors:["#9f82ed","#f07fa9"],gradientType:"radial",gradientRatio:[0,-.1],outlineColor:"transparent",outlineAlpha:.8,outlineThickness:2,balloonText:'<span style="font-size:14px"><b>[[value]]</b> ([[percents]]%)</span>',depth3D:14,angle:55,startAngle:270,labelsEnabled:!1,marginTop:0,marginBottom:0};for(e in t.chart=new AmCharts.AmPieChart,n)t.chart[e]=n[e];t.chart.write("chartarea")},document.head.appendChild(e)},mounted:function(){var t=this;t.hndHelp=setTimeout(t.help,t.delayShowHelp)},beforeDestroy:function(){var t=this;t.chart&&t.chart.clear(),document.getElementById("scriptAmCharts").parentNode.removeChild(document.getElementById("scriptAmCharts"))},methods:{incdec:function(t){var e=this;clearTimeout(e.hndHelp),e.showHelp=!1,e.divvy+=t,e.divvy<1&&(e.divvy=1),e.divvy>50&&(e.divvy=50),e.chart.dataProvider=[{value:e.tokensAtDivvy*e.divvy},{value:100*e.tokensAtDivvy-e.tokensAtDivvy*e.divvy}],e.chart.validateData(),e.$store.state.Storage.ideaDivvy=e.divvy,e.hndHelp=setTimeout(e.help,e.delayShowHelp)},edit:function(t){var e,n=this,a=t.target.parentNode.getElementsByTagName("h2")[0],r=t.target.parentNode.getElementsByTagName("p")[0];if(clearTimeout(n.hndHelp),n.showHelp=!1,a.getAttribute("contenteditable"))a.removeAttribute("contenteditable"),r.removeAttribute("contenteditable"),n.editable=!1,window.getSelection&&window.getSelection().removeAllRanges(),""==a.innerText.replace(/\s+/g,"")&&(a.innerText=n.storage.h),""==r.innerText.replace(/\s+/g,"")&&(r.innerText=n.storage.p),n.storage.h==a.innerText&&n.storage.p==r.innerText||(n.$store.state.Storage.ideaStorageH=a.innerText,n.$store.state.Storage.ideaStorageP=r.innerText,n.$axios.post("",{header:a.innerText,text:r.innerText}).then(function(t){t&&n.$console.log("saved")})),n.hndHelp=setTimeout(n.help,n.delayShowHelp);else if(n.storage.h=a.innerText,a.setAttribute("contenteditable",!0),n.storage.p=r.innerText,r.setAttribute("contenteditable",!0),n.editable=!0,document.body.createTextRange)e=document.body.createTextRange(),e.moveToElementText(a),e.select();else if(window.getSelection){var i=window.getSelection();e=document.createRange(),e.selectNodeContents(a),i.removeAllRanges(),i.addRange(e)}},submit:function(){var t=this;clearTimeout(t.hndHelp),t.showHelp=!1,t.showTaskList=!t.showTaskList,t.showTaskList?t.$axios.post("",{}).then(function(e){e&&t.$console.log("submited")}):t.hndHelp=setTimeout(t.help,t.delayShowHelp)},getTaskList:function(){var t=this;t.$axios.get("").then(function(e){e&&t.$console.log("loaded"),t.taskList.push({title:"123"}),t.taskList.push({title:"34786"})})},help:function(){this.showHelpMessage=!1,this.showHelp=!0}},computed:{}}),o=i,s=(n("acbf"),n("2877")),c=Object(s["a"])(o,a,r,!1,null,"664f7954",null);c.options.__file="Idea.vue";e["default"]=c.exports},"214f":function(t,e,n){"use strict";n("b0c5");var a=n("2aba"),r=n("32e9"),i=n("79e5"),o=n("be13"),s=n("2b4c"),c=n("520a"),l=s("species"),u=!i(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),v=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var f=s(t),d=!i(function(){var e={};return e[f]=function(){return 7},7!=""[t](e)}),p=d?!i(function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[l]=function(){return n}),n[f](""),!e}):void 0;if(!d||!p||"replace"===t&&!u||"split"===t&&!v){var h=/./[f],g=n(o,f,""[t],function(t,e,n,a,r){return e.exec===c?d&&!r?{done:!0,value:h.call(e,n,a)}:{done:!0,value:t.call(n,e,a)}:{done:!1}}),b=g[0],y=g[1];a(String.prototype,t,b),r(RegExp.prototype,f,2==e?function(t,e){return y.call(t,this,e)}:function(t){return y.call(t,this)})}}},"520a":function(t,e,n){"use strict";var a=n("0bfb"),r=RegExp.prototype.exec,i=String.prototype.replace,o=r,s="lastIndex",c=function(){var t=/a/,e=/b*/g;return r.call(t,"a"),r.call(e,"a"),0!==t[s]||0!==e[s]}(),l=void 0!==/()??/.exec("")[1],u=c||l;u&&(o=function(t){var e,n,o,u,v=this;return l&&(n=new RegExp("^"+v.source+"$(?!\\s)",a.call(v))),c&&(e=v[s]),o=r.call(v,t),c&&o&&(v[s]=v.global?o.index+o[0].length:e),l&&o&&o.length>1&&i.call(o[0],n,function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(o[u]=void 0)}),o}),t.exports=o},"52a7":function(t,e){e.f={}.propertyIsEnumerable},"5dbc":function(t,e,n){var a=n("d3f4"),r=n("8b97").set;t.exports=function(t,e,n){var i,o=e.constructor;return o!==n&&"function"==typeof o&&(i=o.prototype)!==n.prototype&&a(i)&&r&&r(t,i),t}},"5f1b":function(t,e,n){"use strict";var a=n("23c6"),r=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var i=n.call(t,e);if("object"!==typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==a(t))throw new TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},"8b97":function(t,e,n){var a=n("d3f4"),r=n("cb7c"),i=function(t,e){if(r(t),!a(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,a){try{a=n("9b43")(Function.call,n("11e9").f(Object.prototype,"__proto__").set,2),a(t,[]),e=!(t instanceof Array)}catch(r){e=!0}return function(t,n){return i(t,n),e?t.__proto__=n:a(t,n),t}}({},!1):void 0),check:i}},9093:function(t,e,n){var a=n("ce10"),r=n("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return a(t,r)}},a481:function(t,e,n){"use strict";var a=n("cb7c"),r=n("4bf8"),i=n("9def"),o=n("4588"),s=n("0390"),c=n("5f1b"),l=Math.max,u=Math.min,v=Math.floor,f=/\$([$&`']|\d\d?|<[^>]*>)/g,d=/\$([$&`']|\d\d?)/g,p=function(t){return void 0===t?t:String(t)};n("214f")("replace",2,function(t,e,n,h){return[function(a,r){var i=t(this),o=void 0==a?void 0:a[e];return void 0!==o?o.call(a,i,r):n.call(String(i),a,r)},function(t,e){var r=h(n,t,this,e);if(r.done)return r.value;var v=a(t),f=String(this),d="function"===typeof e;d||(e=String(e));var b=v.global;if(b){var y=v.unicode;v.lastIndex=0}var m=[];while(1){var x=c(v,f);if(null===x)break;if(m.push(x),!b)break;var _=String(x[0]);""===_&&(v.lastIndex=s(f,i(v.lastIndex),y))}for(var w="",k=0,T=0;T<m.length;T++){x=m[T];for(var E=String(x[0]),C=l(u(o(x.index),f.length),0),S=[],A=1;A<x.length;A++)S.push(p(x[A]));var N=x.groups;if(d){var $=[E].concat(S,C,f);void 0!==N&&$.push(N);var H=String(e.apply(void 0,$))}else H=g(E,f,C,S,N,e);C>=k&&(w+=f.slice(k,C)+H,k=C+E.length)}return w+f.slice(k)}];function g(t,e,a,i,o,s){var c=a+t.length,l=i.length,u=d;return void 0!==o&&(o=r(o),u=f),n.call(s,u,function(n,r){var s;switch(r.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,a);case"'":return e.slice(c);case"<":s=o[r.slice(1,-1)];break;default:var u=+r;if(0===u)return r;if(u>l){var f=v(u/10);return 0===f?r:f<=l?void 0===i[f-1]?r.charAt(1):i[f-1]+r.charAt(1):r}s=i[u-1]}return void 0===s?"":s})}})},aa77:function(t,e,n){var a=n("5ca1"),r=n("be13"),i=n("79e5"),o=n("fdef"),s="["+o+"]",c="​",l=RegExp("^"+s+s+"*"),u=RegExp(s+s+"*$"),v=function(t,e,n){var r={},s=i(function(){return!!o[t]()||c[t]()!=c}),l=r[t]=s?e(f):o[t];n&&(r[n]=l),a(a.P+a.F*s,"String",r)},f=v.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(u,"")),t};t.exports=v},acbf:function(t,e,n){"use strict";var a=n("e976"),r=n.n(a);r.a},b0c5:function(t,e,n){"use strict";var a=n("520a");n("5ca1")({target:"RegExp",proto:!0,forced:a!==/./.exec},{exec:a})},c5f6:function(t,e,n){"use strict";var a=n("7726"),r=n("69a8"),i=n("2d95"),o=n("5dbc"),s=n("6a99"),c=n("79e5"),l=n("9093").f,u=n("11e9").f,v=n("86cc").f,f=n("aa77").trim,d="Number",p=a[d],h=p,g=p.prototype,b=i(n("2aeb")(g))==d,y="trim"in String.prototype,m=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){e=y?e.trim():f(e,3);var n,a,r,i=e.charCodeAt(0);if(43===i||45===i){if(n=e.charCodeAt(2),88===n||120===n)return NaN}else if(48===i){switch(e.charCodeAt(1)){case 66:case 98:a=2,r=49;break;case 79:case 111:a=8,r=55;break;default:return+e}for(var o,c=e.slice(2),l=0,u=c.length;l<u;l++)if(o=c.charCodeAt(l),o<48||o>r)return NaN;return parseInt(c,a)}}return+e};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof p&&(b?c(function(){g.valueOf.call(n)}):i(n)!=d)?o(new h(m(e)),n,p):m(e)};for(var x,_=n("9e1e")?l(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;_.length>w;w++)r(h,x=_[w])&&!r(p,x)&&v(p,x,u(h,x));p.prototype=g,g.constructor=p,n("2aba")(a,d,p)}},e976:function(t,e,n){},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=idea.ee8dcd55.js.map